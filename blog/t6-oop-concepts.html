<!DOCTYPE html>
<html lang="en">
<head>    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A learning web developer's blog">
    <meta name="author" content="Joseph Won">
    <title>Home</title>

    <!-- Bootstrap CSS file -->
    <link href="../bootstrap-3.3.1-dist\dist\css\bootstrap.min.css" rel="stylesheet" />
    <link href="../bootstrap-3.3.1-dist\dist\css\bootstrap-theme.css" rel="stylesheet" />
    <link href="../stylesheets/blog.css" rel="stylesheet" />
</head>

 
<body>

        <!-- Jquery and Bootstrap Script files -->
    <script src="jquery-2.1.1.min.js"></script>
    <script src="bootstrap-3.3.1-dist\dist\js\bootstrap.min.js"></script>

        <header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">         
            <div class="container">
                <div class="navbar-header">
                    <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="index.html" class="navbar-brand">Joseph Won</a>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                    <form class="navbar-form navbar-right" role="search">
                      <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search">
                      </div>
                      <button type="submit" class="btn btn-default">Submit</button>
                    </form>
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="../index.html">Home</a></li>
                        <li><a href="../archive.html">Archive</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                        <li><a href="../about.html">About</a></li>
                    </ul>
                </nav>
            </div>
        </header>
    <br>
    <br>
    <br>

    <div class="container">
        <div class="row">
            <div class="col-md-7 col-lg-7 col-md-offset-1 col-lg-offset-1">
                <article>
                    <h2><a href="t6-oop-concepts.html">Ruby: Blocks, Procs, & Lambdas</a><span class="pull-right">Nov 14th</span></h2>
                    <div class="row">
                        <div class="group1 col-sm-6 col-md-6">
                            <span class="glyphicon glyphicon-folder-open"></span>  <a href="#">Technical</a>
                              <span class="glyphicon glyphicon-bookmark"></span> <a href="#">Ruby</a>
                        </div>
                        <!--<div class="group2 col-sm-6 col-md-6">
                            <span class="glyphicon glyphicon-pencil"></span> <a href="singlepost.html#comments">0 Comments</a>
                              <span class="glyphicon glyphicon-time"></span> Insert Time here
                        </div> -->
                    </div>
                    <hr>
                    <img class="img-container" src="img/blocks.jpg" class="img-responsive">
                    Photo credit: <a href="https://www.flickr.com/photos/therefromhere/518053737/">therefromhere</a> / <a href="http://foter.com/">Foter</a> / <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/">CC BY-NC-SA</a>
                    <br>
                    <br>
                <h2>Blocks</h2>
                <p>What is a block, proc, and lambda, and how are they used? We've actually already seen blocks. Can you spot them here?</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f92672">[</span><span style="color: #e6db74">&quot;A&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;B&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;C&quot;</span><span style="color: #f92672">].</span><span style="color: #f8f8f2">each</span> <span style="color: #66d9ef">do</span> <span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter</span> <span style="color: #66d9ef">end</span>

<span style="color: #f92672">[</span><span style="color: #e6db74">&quot;A&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;B&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;C&quot;</span><span style="color: #f92672">].</span><span style="color: #f8f8f2">each</span> <span style="color: #f8f8f2">{</span> <span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter}</span>
</pre></div>
                <p>Here are two blocks being called for the each method.</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">do</span> <span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter</span> <span style="color: #66d9ef">end</span>

<span style="color: #f8f8f2">{</span> <span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter}</span>
</pre></div>    
                <h2>Procs</h2>
                <p>Blocks are useful to allow methods to do more complex operations. However, they cannot be taken out of context and do not allow for more than block to be passed into a method argument. What if we want to reuse the logic written in the block and apply it to other objects? This is where Procs come in. 
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">printer</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">Proc</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">{</span><span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter}</span>
</pre></div>    
                <p>Procs are actually objects themselves!</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">printer</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">class</span>

<span style="color: #f92672">=&gt;</span> <span style="color: #66d9ef">Proc</span>
</pre></div>

                <p>How can we use a proc? Well, since the method each can only take in a single block, we can send it a proc while using a special operator, '&' in order to tell Ruby to treat this as a block. Let's call the each method on our letters array and see what we get.</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">letters</span> <span style="color: #f92672">=</span> <span style="color: #f92672">[</span><span style="color: #e6db74">&quot;A&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;B&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;C&quot;</span><span style="color: #f92672">]</span>

<span style="color: #f8f8f2">printer</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">Proc</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">{</span><span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter}</span>

<span style="color: #f8f8f2">letters</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">each(</span><span style="color: #f92672">&amp;</span><span style="color: #f8f8f2">printer)</span>

<span style="color: #f8f8f2">A</span>
<span style="color: #f8f8f2">B</span>
<span style="color: #f8f8f2">C</span>
</pre></div>
                <p>Procs will certainly help us keeping our code DRY. Let's see an example of one way to reuse procs.</p>

<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">sequence_procs</span><span style="color: #f8f8f2">(proc1,</span> <span style="color: #f8f8f2">proc2,</span> <span style="color: #f8f8f2">proc3)</span>
    <span style="color: #f8f8f2">proc1</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">call</span>
    <span style="color: #f8f8f2">proc2</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">call</span>
    <span style="color: #f8f8f2">proc3</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">call</span>
<span style="color: #66d9ef">end</span>

<span style="color: #f8f8f2">first</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">Proc</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">{</span> <span style="color: #f8f8f2">puts</span> <span style="color: #e6db74">&quot;Running first proc...&quot;</span> <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">second</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">Proc</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">{</span> <span style="color: #f8f8f2">puts</span> <span style="color: #e6db74">&quot;Running second proc...&quot;</span> <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">third</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">Proc</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">{</span> <span style="color: #f8f8f2">puts</span> <span style="color: #e6db74">&quot;Running third proc...&quot;</span> <span style="color: #f8f8f2">}</span>
</pre></div>

                <p>Here, we have set up a method that will take in three proc arguments and will call them in a sequence. What do you think will output?</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">sequence_procs(first,</span> <span style="color: #f8f8f2">second,</span> <span style="color: #f8f8f2">third)</span>
</pre></div>

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Running first proc...
Running second proc...
Running third proc...
</pre></div>
                <h2>Lambdas</h2>
                <p>We can think of Lambdas as the same thing as procs with a few subtle differences. Here's how a lambda is created. This should look very familiar.</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">letters</span> <span style="color: #f92672">=</span> <span style="color: #f92672">[</span><span style="color: #e6db74">&quot;A&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;B&quot;</span><span style="color: #f8f8f2">,</span><span style="color: #e6db74">&quot;C&quot;</span><span style="color: #f92672">]</span>

<span style="color: #f8f8f2">lamb_printer</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">lambda</span> <span style="color: #f8f8f2">{</span><span style="color: #f92672">|</span><span style="color: #f8f8f2">letter</span><span style="color: #f92672">|</span> <span style="color: #f8f8f2">puts</span> <span style="color: #f8f8f2">letter}</span>

<span style="color: #f8f8f2">letters</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">each(</span><span style="color: #f92672">&amp;</span><span style="color: #f8f8f2">lamb_printer)</span>
</pre></div>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">A
B
C
</pre></div>
                <p>A key distinction should be made when we ask a proc or lambda to return something. Let's first look at how a Proc would return a string within a method. Pay attention to the result object.</p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">try_proc</span>
    <span style="color: #f8f8f2">result</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">Proc</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">new</span> <span style="color: #f8f8f2">{</span> <span style="color: #66d9ef">return</span> <span style="color: #e6db74">&quot;Here is the proc.&quot;</span> <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">result</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">call</span>
    <span style="color: #f8f8f2">p</span> <span style="color: #e6db74">&quot;End of proc method.&quot;</span>
<span style="color: #66d9ef">end</span>

<span style="color: #f8f8f2">p</span> <span style="color: #f8f8f2">try_proc</span>
</pre></div>

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">=&gt; <span style="color: #a31515">&quot;Here is the proc.&quot;</span>
</pre></div>


                <p>Our proc is being called on this object, so normally we would expect the string "Here is the proc." to be returned to result object, and not when calling the method. Normally we expect try_proc to display "End of proc method", but this is not the case. Proc does not care about the context in this case, and acts as if the method itself is returning "Here is the proc". Let's see what happens when we use a lambda.</p>

<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">def</span> <span style="color: #a6e22e">try_lambda</span>
    <span style="color: #f8f8f2">result</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">lambda</span> <span style="color: #f8f8f2">{</span> <span style="color: #66d9ef">return</span> <span style="color: #e6db74">&quot;Here is the lambda&quot;</span> <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">result</span><span style="color: #f92672">.</span><span style="color: #f8f8f2">call</span>
    <span style="color: #f8f8f2">p</span> <span style="color: #e6db74">&quot;End of lambda method.&quot;</span>
<span style="color: #66d9ef">end</span>

<span style="color: #f8f8f2">p</span> <span style="color: #f8f8f2">try_lambda</span>
</pre></div>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a31515">&quot;End of lambda method.&quot;</span>
</pre></div>
                <p>Here, nothing is returned from the method itself. Instead, the code runs through and prints the "End of the lambda method". This is more conventional since it behaves exactly as we'd expect according to principles of scope. Procs being context insensitive can be beneficial as long as they are used with discretion.</p>

                    

                    <hr>
                </article>
            </div>
                <div class="col-md-3">
    <!-- Subscribe to my feed widget -->
        <div class="well text-center">
            <button class="btn btn-primary btn-md">Subscribe to my feed</button>
        </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Latest Posts</h4>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item"><a href="c8-conflict.html">Emotional Conflicts</a></li>
                        <li class="list-group-item"><a href="t8-tech.html">SQL Injection</a></li>
                        <li class="list-group-item"><a href="t7-JavaScript.html">Ruby vs. JavaScript</a></li>
                    </ul>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Categories</h4>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item"><a href="#">Technical</a></li>
                        <li class="list-group-item"><a href="#">Cultural</a></li>
                        <li class="list-group-item"><a href="#">Personal</a></li>
                    </ul>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Categories</h4>
                    </div>
                </div>
                 
                <!--Recent Comment Section
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Recent Comments</h4>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item"><a href="#">I don't believe in astrology but still your writing style is really great! - <em>john</em></a></li>
                        <li class="list-group-item"><a href="#">Wow.. what you said is really true! I'm an aries though - <em>Anto</em></a></li>
                        <li class="list-group-item"><a href="#">Does capricorn and aries is compatibile? - <em>Sarah</em></a></li>
                        <li class="list-group-item"><a href="#">I'm a cancer woman been in love with Leo. Will this work? - <em>Mary</em></a></li>
                    </ul>
                </div> -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Tags</h4>
                    </div>
                    <div class="panel-body">
                        <ul class="list-inline">
                            <li><a href="#">Ruby</a></li>
                            <li><a href="#">JavaScript</a></li>
                            <li><a href="#">HTML</a></li>
                            <li><a href="#">CSS</a></li>
                            <li><a href="#">SQL</a></li>
                            <li><a href="#">Culture</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>


    <footer>
        <div class="container">
            <hr />
            <p class="text-center">Copyright © Joseph Won 2014. All rights reserved.</p>
        </div>
    </footer>


</body>
</html>